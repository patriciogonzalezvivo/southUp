layers:
    boundaries:
        data: { source: mapzen }
        draw:
            lines:
                style: lns-flip
                order: global.order
                color: darkgray
                width: 1px
        country:
            filter:
                any:
                    - type: country
                    - kind: nation
                    - admin_level: 2
            draw:
                lines:
                    style: lns-flip
                    width: [[1, 0px], [3, 0px], [4, 1px], [9, 1.5px], [14, 2.5px], [16, 3px], [17, 10m]]
            water:
                filter: { maritime_boundary: yes }
                draw:
                    lines:
                        style: lns-flip
                        visible: false
        region:
            filter:
                any:
                    - type: state
                    # territorial here is probably a hack
                    - kind: [state, department, region, provincial, territorial]
                    - admin_level: 4
                not:
                    # deal with bogus Hungary data
                    - scalerank: 0
            draw:
                lines:
                    style: lns-flip
                    color: gray
                    width: [[0, 0px], [4, 0px], [5, 0.5px], [6, 0.5px], [8, 1px], [14, 1.5px], [16, 3.0px], [17, 10m]]
            water:
                filter: { maritime_boundary: yes }
                draw:
                    lines:
                        style: lns-flip
                        visible: false
            # early:
            #     filter: { scalerank: [0,3,4,5,6,7,8,9,10], $zoom: { max: 8 } }
            #     draw:
            #         lines:
            #             style: lns-flip
            #             visible: false
