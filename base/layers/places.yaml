layers:
    places:
        data: { source: mapzen, layer: places }
        draw:
            text:
                visible: false
                style: txt-flip
                font:
                    family: Baskerville, Times
                    size: 10px
                    fill: darkgray
                    stroke:
                        color: white
                        width: 3
        early:
            filter: { $zoom: { min: 7 } }
            draw:
                text:
                    visible: true
        country-z4:
            filter:
                all:
                    - kind: [country]
                    - $zoom: { min: 3, max: 5 }
                    - not: { name: ["United Kingdom","United States of America", "Canada","中华人民共和国","Россия","Kalaallit Nunaat","Ísland","Australia","India","日本","Guam","Indonesia","South Africa"] }
            draw:
                text:
                    text_source: function() { return feature["name:en"] || feature["name"]; }
                    visible: global.text_visible_admin
                    font:
                        family: Baskerville, Times
                        size: 16px
                        fill: [.3,.3,.3]
                        stroke:
                            color: white
                            width: 3
        country-z5:
            filter: { name: true, population: true, kind: [country], $zoom: [5] }
            draw:
                text:
                    text_source: function() { return feature["name:en"] || feature["name"]; }
                    visible: global.text_visible_admin
                    font:
                        family: Baskerville, Times
                        size: 18px
                        fill: [.2,.2,.2]
                        transform: uppercase
                        stroke:
                            color: white
                            width: 3
            z5-dont-label:
                filter: { name: [Nederland,Luxembourg,Liechtenstein,San Marino,Civitatis Vaticanæ,Crna Gora,Македонија,The Gambia,Burundi,Swaziland,الإمارات العربية المتحدة,العراق,Singapore,El Salvador,Belize,Trinidad and Tobago, Saint Lucia, Montserrat,Anguilla,República Dominicana,Bahamas,British Virgin Islands,Antigua and Barbuda,Grenada,Sint Maarten,Saint Kitts and Nevis,Cayman Islands,België - Belgique - Belgien], $zoom: {min: 5, max: 6} }
                draw:
                    text:
                        visible: false
        country-z6:
            filter:
                all:
                    - name: true
                    - population: true
                    - kind: [country]
                    - $zoom: [6]
                any:
                    - { population: { min: 5000000 } }
            draw:
                text:
                    text_source: function() { return feature["name:en"] || feature["name"]; }
                    visible: global.text_visible_admin
                    priority: 3
                    font:
                        family: Baskerville, Times
                        size: 19px
                        fill: [.2,.2,.2]
                        transform: uppercase
                        stroke:
                            color: white
                            width: 3
            z6-dont-label:
                filter: { name: [Luxembourg,Liechtenstein,San Marino,Civitatis Vaticanæ,El Salvador,Belize,België - Belgique - Belgien], $zoom: {min: 6, max: 7} }
                draw:
                    text:
                        visible: false
        country-z7:
            filter: { name: true, kind: [country], $zoom: [7] }
            draw:
                text:
                    text_source: function() { return feature["name:en"] || feature["name"]; }
                    visible: global.text_visible_admin
                    priority: 3
                    font:
                        family: Baskerville, Times
                        size: 20px
                        fill: [.2,.2,.2]
                        transform: uppercase
                        stroke:
                            color: white
                            width: 3
            z7-dont-label:
                filter: { name: [Luxembourg,Liechtenstein,San Marino,Civitatis Vaticanæ,België - Belgique - Belgien,Хуссар Ирыстон,Аҧсны - Абхазия], $zoom: {min: 7, max: 8} }
                draw:
                    text:
                        visible: false
        populated-places-natural-earth:
            filter:
                name: true
                source: naturalearthdata.com
                $zoom: { min: 5 }
            draw:
                text:
                    style: txt-flip
                    visible: true
                    priority: 5
                    font:
                        family: Baskerville, Times
                        size: 10px
                        fill: [.2,.2,.2]
                        stroke:
                            color: white
                            width: 3
            capital:
                filter: { capital: yes }
                draw:
                    text:
                        style: txt-flip
                        visible: true
                        priority: 4
                        font:
                            family: Baskerville, Times
                            size: 16px
                            fill: [.1,.1,.1]
                            stroke:
                                color: white
                                width: 3
                    
